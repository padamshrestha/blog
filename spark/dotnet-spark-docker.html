<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Run and Debug Dotnet Spark application on Docker | PS Notes</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" type="image/png" sizes="32x32" href="/blog/assets/img/favicon.png">
    <meta name="description" content="Find all my notes here">
    <link rel="preload" href="/blog/assets/css/0.styles.165084a3.css" as="style"><link rel="preload" href="/blog/assets/js/app.5359efb0.js" as="script"><link rel="preload" href="/blog/assets/js/2.ed81277b.js" as="script"><link rel="preload" href="/blog/assets/js/3.4239afa8.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.798258e1.js"><link rel="prefetch" href="/blog/assets/js/11.c40a9d89.js"><link rel="prefetch" href="/blog/assets/js/12.2bf01719.js"><link rel="prefetch" href="/blog/assets/js/13.3ded62bf.js"><link rel="prefetch" href="/blog/assets/js/14.96e88526.js"><link rel="prefetch" href="/blog/assets/js/15.02dfcd09.js"><link rel="prefetch" href="/blog/assets/js/16.d594b883.js"><link rel="prefetch" href="/blog/assets/js/17.3ca5b683.js"><link rel="prefetch" href="/blog/assets/js/18.d67bb81d.js"><link rel="prefetch" href="/blog/assets/js/19.87d7e7d4.js"><link rel="prefetch" href="/blog/assets/js/20.81bb1bdb.js"><link rel="prefetch" href="/blog/assets/js/21.393b795e.js"><link rel="prefetch" href="/blog/assets/js/22.b4b05b24.js"><link rel="prefetch" href="/blog/assets/js/23.90ebae71.js"><link rel="prefetch" href="/blog/assets/js/24.4d6315c6.js"><link rel="prefetch" href="/blog/assets/js/25.a8ca678d.js"><link rel="prefetch" href="/blog/assets/js/26.20ff403d.js"><link rel="prefetch" href="/blog/assets/js/27.027798ff.js"><link rel="prefetch" href="/blog/assets/js/28.4fcd7904.js"><link rel="prefetch" href="/blog/assets/js/29.ae9953be.js"><link rel="prefetch" href="/blog/assets/js/30.05ce7139.js"><link rel="prefetch" href="/blog/assets/js/31.929ba55a.js"><link rel="prefetch" href="/blog/assets/js/32.39a7eb88.js"><link rel="prefetch" href="/blog/assets/js/33.aea2c7ad.js"><link rel="prefetch" href="/blog/assets/js/34.f19214f0.js"><link rel="prefetch" href="/blog/assets/js/35.f9689f85.js"><link rel="prefetch" href="/blog/assets/js/36.491b563f.js"><link rel="prefetch" href="/blog/assets/js/37.01c41598.js"><link rel="prefetch" href="/blog/assets/js/38.fef1137c.js"><link rel="prefetch" href="/blog/assets/js/39.d9080be3.js"><link rel="prefetch" href="/blog/assets/js/4.5fcdffa2.js"><link rel="prefetch" href="/blog/assets/js/40.139a3e51.js"><link rel="prefetch" href="/blog/assets/js/41.42d3a459.js"><link rel="prefetch" href="/blog/assets/js/42.f4ad466b.js"><link rel="prefetch" href="/blog/assets/js/43.d8279406.js"><link rel="prefetch" href="/blog/assets/js/44.0d320ca0.js"><link rel="prefetch" href="/blog/assets/js/45.a0bd664a.js"><link rel="prefetch" href="/blog/assets/js/46.75a5939e.js"><link rel="prefetch" href="/blog/assets/js/47.62271a73.js"><link rel="prefetch" href="/blog/assets/js/48.6519ed03.js"><link rel="prefetch" href="/blog/assets/js/5.8f43166e.js"><link rel="prefetch" href="/blog/assets/js/6.ce0118c8.js"><link rel="prefetch" href="/blog/assets/js/7.2b36b85d.js"><link rel="prefetch" href="/blog/assets/js/8.4109f0ce.js"><link rel="prefetch" href="/blog/assets/js/9.c9802138.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.165084a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="ant-row"><div class="sidebar-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-5 ant-col-xl-5 ant-col-xxl-4"><a href="/blog/" class="router-link-active no-logo home-link"><!----> <span class="site-name">PS Notes</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-19 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/blog/home/">
          Home
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/blog/about/">
          About
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <!----></nav></div></div> <!----></header> <aside class="sidebar"><!----> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Angular</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/home/deploy-angular-app-to-github-io-pages.html" title="Deploy Angular app to github.io pages" class="sidebar-link">Deploy Angular app to github.io pages</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Azure</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Kusto</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/home/kusto-overview.html" title="Kusto Query Language (KQL)" class="sidebar-link">Kusto Query Language (KQL)</a></li><li><a href="/blog/home/dynamic-365-hcm-kusto.html" title="Troubleshoot using Kusto" class="sidebar-link">Troubleshoot using Kusto</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>C#</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/csharp/csharp-fundamentals.html" title="OOP Fundamentals" class="sidebar-link">OOP Fundamentals</a></li><li><a href="/blog/csharp/csharp-features.html" title="C# features" class="sidebar-link">C# features</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Spark</span> <span class="arrow down"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/spark/jupyter-pyspark-docker.html" title="Run Jupyter for Pyspark on Docker" class="sidebar-link">Run Jupyter for Pyspark on Docker</a></li><li><a href="/blog/spark/dotnet-spark-learning.html" title="Spark Machine Learning" class="sidebar-link">Spark Machine Learning</a></li><li><a href="/blog/spark/dotnet-spark-docker.html" aria-current="page" title="Run and Debug Dotnet Spark application on Docker" class="active sidebar-link">Run and Debug Dotnet Spark application on Docker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/spark/dotnet-spark-docker.html#instal-docker-desktop" title="Instal Docker Desktop" class="sidebar-link">Instal Docker Desktop</a></li><li class="sidebar-sub-header"><a href="/blog/spark/dotnet-spark-docker.html#user-docker-container" title="User Docker container" class="sidebar-link">User Docker container</a></li><li class="sidebar-sub-header"><a href="/blog/spark/dotnet-spark-docker.html#builing-and-exectuting-the-example-application" title="Builing and exectuting the example application" class="sidebar-link">Builing and exectuting the example application</a></li><li class="sidebar-sub-header"><a href="/blog/spark/dotnet-spark-docker.html#debug-spark-applciation-using-vs-code" title="Debug Spark applciation using VS Code" class="sidebar-link">Debug Spark applciation using VS Code</a></li></ul></li><li><a href="/blog/spark/dotnet-spark-ubuntu.html" title="Install Dotnet Spark on Ubuntu" class="sidebar-link">Install Dotnet Spark on Ubuntu</a></li><li><a href="/blog/spark/dotnet-spark-docker-ubuntu.html" title="Running Dotnet Spark applications on Ubuntu Continer" class="sidebar-link">Running Dotnet Spark applications on Ubuntu Continer</a></li><li><a href="/blog/spark/install-docker-ubuntu2004.html" title="Install Docker on Ubuntu 20.04 LTS and Dotnet Spark on Docker" class="sidebar-link">Install Docker on Ubuntu 20.04 LTS and Dotnet Spark on Docker</a></li><li><a href="/blog/spark/python-learning.html" title="Learning Python" class="sidebar-link">Learning Python</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Microservices</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Tools</span> <span class="arrow right"><i aria-label="icon: down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></i></span></p> <!----></section></li></ul></aside> <main class="page"> <div class="theme-antdocs-content content__default"><h1 id="run-and-debug-dotnet-spark-application-on-docker"><a href="#run-and-debug-dotnet-spark-application-on-docker" class="header-anchor">#</a> Run and Debug Dotnet Spark application on Docker</h1> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>Please go to &quot;Running Dotnet Spark applications on Ubuntu Continer&quot; for running dotnet spark applicatoin on Docker</p></div> <h2 id="instal-docker-desktop"><a href="#instal-docker-desktop" class="header-anchor">#</a> Instal Docker Desktop</h2> <div class="language-batch line-numbers-mode"><pre class="language-batch"><code><span class="token command"><span class="token keyword">choco</span> install docker-desktop</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Make sure to restart the machine after installation. If there is an access issue add current user to docker group.</p></div> <h2 id="user-docker-container"><a href="#user-docker-container" class="header-anchor">#</a> User Docker container</h2> <p><a href="https://github.com/indy-3rdman/docker-dotnet-spark" target="_blank" rel="noopener noreferrer">Precompiled Container<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>
If you want to custom compile, visit  <a href="https://github.com/padamshrestha/docker-dotnet-spark" target="_blank" rel="noopener noreferrer">Dotnet Spark Container Script<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> and build.sh</p> <div class="language-batch line-numbers-mode"><pre class="language-batch"><code><span class="token command"><span class="token keyword">docker</span> run <span class="token parameter attr-name">-d</span> <span class="token parameter attr-name">--name</span> dotnet-spark <span class="token parameter attr-name">-p</span> <span class="token number">8080</span>:<span class="token number">8080</span> <span class="token parameter attr-name">-p</span> <span class="token number">8081</span>:<span class="token number">8081</span> <span class="token parameter attr-name">-e</span> SPARK_DEBUG_DISABLED=true 3rdman/dotnet-spark:latest</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Docker container should be running as</p> <div class="language-batch line-numbers-mode"><pre class="language-batch"><code><span class="token command"><span class="token keyword">docker</span> ps</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="data:image/png;base64,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" alt="Running Docker Container"></p> <h2 id="builing-and-exectuting-the-example-application"><a href="#builing-and-exectuting-the-example-application" class="header-anchor">#</a> Builing and exectuting the example application</h2> <p>Go to docker bash</p> <div class="language-batch line-numbers-mode"><pre class="language-batch"><code><span class="token command"><span class="token keyword">docker</span> exec -it dotnet-spark /bin<span class="token parameter attr-name">/bash</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Navigate to the project</p> <div class="language-batch line-numbers-mode"><pre class="language-batch"><code><span class="token command"><span class="token keyword">cd</span> /dotnet<span class="token parameter attr-name">/HelloSpark</span></span>
<span class="token command"><span class="token keyword">ls</span> -la</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="/blog/assets/img/dsp2.92283347.png" alt="Project Directory">
Where json file as sample data.</p> <p>Now let's build</p> <div class="language-batch line-numbers-mode"><pre class="language-batch"><code><span class="token command"><span class="token keyword">dotnet</span> build</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/assets/img/dsp3.88fa125a.png" alt="Build">
Once the build is completed, there will be bin and obj folders</p> <p>and let's navigate to the bin folder now</p> <div class="language-batch line-numbers-mode"><pre class="language-batch"><code><span class="token command"><span class="token keyword">cd</span> /dotnet/HelloSpark/bin/Debug/netcoreapp3.<span class="token number">1</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/blog/assets/img/dsp4.91603ccb.png" alt="Bin folder"></p> <p>The sample application expects json file, so let's copy it from the application folder</p> <div class="language-batch line-numbers-mode"><pre class="language-batch"><code><span class="token command"><span class="token keyword">cp</span> /dotnet/HelloSpark/people.json .</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Finally, let's execute the application spark-submit</p> <div class="language-batch line-numbers-mode"><pre class="language-batch"><code><span class="token command"><span class="token keyword">spark</span>-submit <span class="token parameter attr-name">--class</span> org.apache.spark.deploy.dotnet.DotnetRunner <span class="token parameter attr-name">--master</span> spark://$HOSTNAME:$SPARK_MASTER_PORT microsoft-spark<span class="token number">-2</span>.<span class="token number">4</span>.x<span class="token number">-0</span>.<span class="token number">12</span>.<span class="token number">1</span>.jar dotnet HelloSpark.dll</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Have a proper version of jar from the bin folder i.e microsoft-spark-2.4.x-0.12.1.jar</p></div> <p><img src="/blog/assets/img/dsp5.7bfeea20.png" alt="Exectution"></p> <p>We can verify the application and workder at http://localhost:8080/
<img src="/blog/assets/img/dsp6.0c8e6360.png" alt="Spark Web UI"></p> <h2 id="debug-spark-applciation-using-vs-code"><a href="#debug-spark-applciation-using-vs-code" class="header-anchor">#</a> Debug Spark applciation using VS Code</h2> <p>Start the container with mounted project volume or folder</p> <div class="language-batch line-numbers-mode"><pre class="language-batch"><code><span class="token command"><span class="token keyword">docker</span> run <span class="token parameter attr-name">-d</span> <span class="token parameter attr-name">--name</span> dotnet-spark <span class="token parameter attr-name">-p</span> <span class="token number">8080</span>:<span class="token number">8080</span> <span class="token parameter attr-name">-p</span> <span class="token number">8081</span>:<span class="token number">8081</span> <span class="token parameter attr-name">-v</span> <span class="token string">&quot;C:\Projects\ML\mySparkApp\bin\Debug:/dotnet/Debug&quot;</span> <span class="token parameter attr-name">-e</span> SPARK_DEBUG_DISABLED=true 3rdman/dotnet-spark:latest</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Windows will have notification to share Debug folder to share, you should accept it.
<img src="/blog/assets/img/dsp7.7eb24c01.png" alt="Contianer with Volume mounted"></p> <p>Unfortunately, there is an exception due to a lot more different undefined dyanmic port mapping there
<img src="/blog/assets/img/dsp8.2b29115f.png" alt="Exception"></p> <p>This can be resolve in linus using host network as</p> <div class="language-batch line-numbers-mode"><pre class="language-batch"><code><span class="token command"><span class="token keyword">docker</span> run <span class="token parameter attr-name">-d</span> <span class="token parameter attr-name">--name</span> dotnet-spark <span class="token parameter attr-name">--network</span> host <span class="token parameter attr-name">-v</span> <span class="token string">&quot;$HOME/Projects/ML/mySparkApp/bin/Debug:/dotnet/Debug&quot;</span> <span class="token parameter attr-name">-e</span> SPARK_DEBUG_DISABLED=true 3rdman/dotnet-spark:latest</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>So we might get fix for window from Spark or Docker in near future till then stick with Linux</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/blog/spark/dotnet-spark-learning.html" class="prev"><i aria-label="icon: left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></i>
        Spark Machine Learning
      </a></span> <span class="next"><a href="/blog/spark/dotnet-spark-ubuntu.html">
        Install Dotnet Spark on Ubuntu
        <i aria-label="icon: right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></a></span></p></div> </main> <!----></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.5359efb0.js" defer></script><script src="/blog/assets/js/2.ed81277b.js" defer></script><script src="/blog/assets/js/3.4239afa8.js" defer></script>
  </body>
</html>