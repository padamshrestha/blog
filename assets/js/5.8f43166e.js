(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{870:function(s,t,a){s.exports=a.p+"assets/img/afd1.55b61c3c.png"},871:function(s,t,a){s.exports=a.p+"assets/img/afd2.7a94a2f7.png"},872:function(s,t,a){s.exports=a.p+"assets/img/afd3.1a8fd635.png"},873:function(s,t,a){s.exports=a.p+"assets/img/afd4.f081db13.png"},874:function(s,t,a){s.exports=a.p+"assets/img/afd6.1ce4769c.png"},920:function(s,t,a){"use strict";a.r(t);var n=a(74),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"azure-function-with-dapr-to-create-event-driven-distributed-application"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#azure-function-with-dapr-to-create-event-driven-distributed-application"}},[s._v("#")]),s._v(" Azure function with Dapr to create event-driven, distributed application")]),s._v(" "),n("p",[s._v("In this post we will integrate Azure function app to use Dapr system for pubsub messaging. Azure function could be either triggered by Event Hub or HttpTrigger. For simplicity we will test it with HttpTrigger. "),n("a",{attrs:{href:"https://github.com/padamshrestha/azure-function-dapr",target:"_blank",rel:"noopener noreferrer"}},[s._v("Project Repo"),n("OutboundLink")],1)]),s._v(" "),n("h2",{attrs:{id:"system-diagram"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#system-diagram"}},[s._v("#")]),s._v(" System Diagram")]),s._v(" "),n("p",[n("img",{attrs:{src:a(870),alt:"alt"}})]),s._v(" "),n("ul",[n("li",[s._v("Azure function provides easier way to integrate with Event Hub")]),s._v(" "),n("li",[s._v("Dapr Subsystem hides complexity to deal with PubSub messaging")])]),s._v(" "),n("h2",{attrs:{id:"getting-ready"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#getting-ready"}},[s._v("#")]),s._v(" Getting Ready")]),s._v(" "),n("p",[n("a",{attrs:{href:"https://dapr.io/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Getting started with dapr"),n("OutboundLink")],1),s._v(" "),n("a",{attrs:{href:"https://github.com/dapr/azure-functions-extension/blob/master/docs/quickstart.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("See the dapr Azure Functions quickstart"),n("OutboundLink")],1)]),s._v(" "),n("p",[n("strong",[s._v("Requirements")])]),s._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://docs.dapr.io/getting-started/install-dapr/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Dapr installed and configured locally (dapr init)"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://github.com/azure/azure-functions-core-tools#installing",target:"_blank",rel:"noopener noreferrer"}},[s._v("Azure Functions Core Tools - v3"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://docs.docker.com/get-docker/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker"),n("OutboundLink")],1)]),s._v(" "),n("li",[n("a",{attrs:{href:"https://dotnet.microsoft.com/download",target:"_blank",rel:"noopener noreferrer"}},[s._v(".NET Core SDK "),n("OutboundLink")],1),s._v("- enables building of the extension locally in the project")]),s._v(" "),n("li",[n("a",{attrs:{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Node 12"),n("OutboundLink")],1),s._v(" for local debugging of the JavaScript app Or .Net Azure Function")])]),s._v(" "),n("p",[s._v("Note: Run Docker on WSL 2 on Windows for better experience")]),s._v(" "),n("h3",{attrs:{id:"install-dapr"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#install-dapr"}},[s._v("#")]),s._v(" Install Dapr")]),s._v(" "),n("p",[s._v("Run in WSL window")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("wget "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("q https:"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("raw"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("githubusercontent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("dapr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("cli")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("master"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("install"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("install"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sh "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("O "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bash\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("Run to verify")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("dapr\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("Run init")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("dapr init\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("Verify Dapr version")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("dapr "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("version\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("Verify containers are running")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("docker "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:a(871),alt:"alt"}}),s._v(" "),n("img",{attrs:{src:a(872),alt:"alt"}})]),s._v(" "),n("h3",{attrs:{id:"install-dotnet-sdk-3-1-and-azure-functions-core-tools"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#install-dotnet-sdk-3-1-and-azure-functions-core-tools"}},[s._v("#")]),s._v(" Install dotnet sdk 3.1 and azure-functions-core-tools")]),s._v(" "),n("p",[n("RouterLink",{attrs:{to:"/tools/dotnetcore-azurefunction-wsl.html"}},[s._v("Install dotnet sdk with azure function tools")])],1),s._v(" "),n("h2",{attrs:{id:"create-azure-function-app"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-azure-function-app"}},[s._v("#")]),s._v(" Create Azure function App")]),s._v(" "),n("h3",{attrs:{id:"create-a-folder-for-a-project-or-clone-empty-project-from-the-git"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-a-folder-for-a-project-or-clone-empty-project-from-the-git"}},[s._v("#")]),s._v(" Create a folder for a project or clone empty project from the git")]),s._v(" "),n("h3",{attrs:{id:"navigate-to-the-folder-from-wsl-console"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#navigate-to-the-folder-from-wsl-console"}},[s._v("#")]),s._v(" Navigate to the folder from WSL console")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("dotnet new sln\nfunc init "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("process")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("dotnet "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("docker\ndotnet sln azure"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dapr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sln add "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("process")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("process")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("csproj\ncd "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("process")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\nfunc new "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("name GetMessage "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("template "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"HTTP Trigger"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("authlevel "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"anonymous"')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("@Dev"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("WD MINGW64 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("c"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("Projects"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("azure"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("dapr"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("process")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("main"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n$ func extensions install "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p Dapr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AzureFunctions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Extension "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("v 0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("12"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("0"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p\nreview01\ndotnet build "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("process")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("csproj "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("o bin "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("no"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("incremental\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("p",[s._v('To run/debug the function app locally click on "Initialize Project for Use with VS Code"')]),s._v(" "),n("p",[n("img",{attrs:{src:a(873),alt:"alt"}})]),s._v(" "),n("p",[s._v("Update the connection for the WebStorage and run/debug in VS Code")]),s._v(" "),n("h3",{attrs:{id:"add-nuget-packages"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#add-nuget-packages"}},[s._v("#")]),s._v(" Add Nuget packages")]),s._v(" "),n("ul",[n("li",[s._v("Dapr.AzureFunctions.Extension")]),s._v(" "),n("li",[s._v("Microsoft.NET.Sdk.Functions")]),s._v(" "),n("li",[s._v("Microsoft.Azure.WebJobs.Extensions.EventHubs")])]),s._v(" "),n("h3",{attrs:{id:"create-function-getmessage-and-add-dapr-pubsub"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#create-function-getmessage-and-add-dapr-pubsub"}},[s._v("#")]),s._v(" Create Function GetMessage and add Dapr pubsub")]),s._v(" "),n("div",{staticClass:"language-csharp line-numbers-mode"},[n("div",{staticClass:"highlight-lines"},[n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("br"),n("div",{staticClass:"highlighted"},[s._v(" ")]),n("br"),n("br"),n("br"),n("br"),n("br"),n("br")]),n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("System")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("System"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("IO")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("System"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Threading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Tasks")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("Microsoft"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AspNetCore"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Mvc")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("Microsoft"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Azure"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WebJobs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("Microsoft"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Azure"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("WebJobs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Extensions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Http")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("Dapr"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AzureFunctions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Extension")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("Microsoft"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AspNetCore"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Http")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("Microsoft"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Extensions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Logging")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("using")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("Newtonsoft"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Json")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("namespace")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("process")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("GetMessage")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token attribute"}},[n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FunctionName")]),n("span",{pre:!0,attrs:{class:"token attribute-arguments"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"GetMessage"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[s._v("Task"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("IActionResult"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("Run")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token attribute"}},[n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpTrigger")]),n("span",{pre:!0,attrs:{class:"token attribute-arguments"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AuthorizationLevel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Anonymous"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"get"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"post"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Route "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("HttpRequest")]),s._v(" req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token attribute"}},[n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DaprPublish")]),n("span",{pre:!0,attrs:{class:"token attribute-arguments"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("PubSubName "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pubsub"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Topic "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"alerts"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IAsyncCollector"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("DaprPubSubEvent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" alertEvent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ILogger")]),s._v(" log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            log"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("LogInformation")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"C# HTTP trigger function processed a request."')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("string")])]),s._v(" name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Query"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("string")])]),s._v(" requestBody "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[s._v("StreamReader")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("req"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Body"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("ReadToEndAsync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("dynamic")])]),s._v(" data "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" JsonConvert"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("DeserializeObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("requestBody"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" name "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("??")]),s._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("?.")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("string")])]),s._v(" responseMessage "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("string")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("IsNullOrEmpty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("?")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"This HTTP triggered function executed successfully. Pass a name in the query string or in the request body for a personalized response."')]),s._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token interpolation-string"}},[n("span",{pre:!0,attrs:{class:"token string"}},[s._v('$"Hello, ')]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),n("span",{pre:!0,attrs:{class:"token expression language-csharp"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('. This HTTP triggered function executed successfully."')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" alertEvent"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("AddAsync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[s._v("DaprPubSubEvent")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("JsonConvert"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("SerializeObject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" id "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"testobj"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" message "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"This is a test alert"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[s._v("OkObjectResult")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("responseMessage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br")])]),n("h3",{attrs:{id:"dapr-config-file-config-yaml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#dapr-config-file-config-yaml"}},[s._v("#")]),s._v(" Dapr config file config.yaml")]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" dapr.io/v1alpha1\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Configuration\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" daprConfig\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tracing")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("samplingRate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("zipkin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("endpointAddress")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://localhost:9411/api/v2/spans'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h3",{attrs:{id:"add-messagebus-component-components-messagebus-yaml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#add-messagebus-component-components-messagebus-yaml"}},[s._v("#")]),s._v(" Add messagebus component /components/messagebus.yaml")]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" dapr.io/v1alpha1\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Component\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" pubsub\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" pubsub.redis\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" redisHost\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" localhost"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" redisPassword\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("secretKeyRef")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" redis"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("password\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" redis\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("h3",{attrs:{id:"run-azure-function-locally"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#run-azure-function-locally"}},[s._v("#")]),s._v(" Run Azure Function locally")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("dapr run "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("a functionapp "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("p 3001 "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("components"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("path "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("components"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("config "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("config"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("yaml "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v(" func host "),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"trigger-azure-function-from-wsl-console"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#trigger-azure-function-from-wsl-console"}},[s._v("#")]),s._v(" Trigger Azure function from WSL console")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("curl "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("X POST "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("H "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Content-Type: application/json"')]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'{ "name": "John Gray"}\'')]),s._v(" http:"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("172"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("21"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("132"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("136:7071"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("api"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("GetMessage\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"validate-if-the-message-is-in-pubsub"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#validate-if-the-message-is-in-pubsub"}},[s._v("#")]),s._v(" Validate if the message is in Pubsub")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("docker exec "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("it dapr_redis "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("sh\nkeys "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("It should return something like")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"alerts"')]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("Check actual messages")]),s._v(" "),n("div",{staticClass:"language-powershell line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-powershell"}},[n("code",[s._v("xread STREAMS alert 0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[n("img",{attrs:{src:a(874),alt:"alt"}})])])}),[],!1,null,null,null);t.default=e.exports}}]);